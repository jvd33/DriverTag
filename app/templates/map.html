{% extends "layout.html" %}
{% block body %}
    <style type="text/css">
        html, body, #map { height: 100%; width:100%; margin: 0; padding: 0; }
    </style>
    {% if addr %}
        <div id="map"></div>
            <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBp_559TLwKdvOGuvtaryHmolJnbBpOuk0&callback=initMap"
            async defer></script>
            <script>
                var map;
                var marker;
                var circle;
                function initMap() {
                    map = new google.maps.Map(document.getElementById('map'), {
                        center: {lat:{{addlat}}, lng:{{addlng}}},
                        zoom: 13
                    });

                    marker = new google.maps.Marker({
                        map: map,
                        position: new google.maps.LatLng({{ addlat }}, {{ addlng }}),
                        title: 'Home'
                    });

                    circle = new google.maps.Circle({
                        map:map,
                        radius: {{ radius * 1609.34 }},
                        fillColor: '#0000FF',
                        strokeOpacity: '0.0'
                    });
                    circle.bindTo('center', marker, 'position');
                }
            </script>
    {% else %}
    You need to add an address first!
    {% endif %}

{% endblock %}